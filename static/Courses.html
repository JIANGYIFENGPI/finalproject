<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Courses Page</title>
			
        <link rel="stylesheet" href="main.css">
    
    </head>



	<body>
        <div class="button">
			<a href="insertCourses.html">Insert New Courses</a>
		</div>
        <div class="button">
			<a href="Curriculum.html">Curriculum</a>
		</div>
		<div id="id1">
            <button onClick="getCourses()">List services</button>
		</div>
        
        <script>
			function getCourses(){
				var request = new XMLHttpRequest();
				request.open("GET", "http://localhost:8000/courses/", false);
				request.setRequestHeader("Authorization", "Basic " + btoa("admin:password123"));
				request.send();
                var temp = "<table>";
				var array = JSON.parse(request.responseText);
				temp += "<tr><th>Course Code</th><th>Course Name</th><th>Language</th><th>credit</th></tr>";
				for(var i=0;i<array.length;i++){
					var url = array[i].url;
					
					temp+="<tr><td>" + array[i].code + "</td><td>" + array[i].name + "</td><td>" + array[i].lan + "</td><td>" + array[i].cr +"</td>" +
					//"<td><button onclick=getCurriculums('"+ curriculumid +"')>Curriculums</button>" + "</td>"+
					//"<td><button onclick=getImplement('"+ iId +"')>Teacher</button>"+
                    "</td></tr>";
				}
				console.log(temp);
				temp+="</table>";
				document.getElementById("id1").innerHTML = temp;
				
			}
			
			/*function getCurriculums(curriculumid){
				var request = new XMLHttpRequest();
				request.open("GET", curriculumid, false);
				request.setRequestHeader("Authorization", "Basic " + btoa("admin:password123"));
				request.send();
				var array = JSON.parse(request.responseText);
				
				var temp="<tr><th>id</th><th>Total time</th><th>P1</th><th>P2</th><th>P3</th><th>P4</th><th>P5</th><th>Hour Factor</th><th>Work Hour</th><th>Amount of Study Hours</th></tr>";
					temp+="<tr><td>"+array.url+"</td><td>" + array.period_total + "</td><td>" + array.p1 + "</td><td>" + array.p2 + "</td><td>"+ array.p3 + "</td><td>"+ array.p4 + "</td><td>"+ array.p5 + "</td><td>"+ array.hour_factor + "</td><td>"+ array.work_hour + "</td><td>"+ array.amount_of_study_hours + "</td></tr>";
				console.log(temp);
				temp+="</table>"+"<div class=button onClick=getCourses()><a>Get Courses</a></div>";
				document.getElementById("id1").innerHTML = temp;
				
				
			}
			
		
			function getTeachers(idArray){
				var request;
				var temp="<tr><th>id</th><th>Teacher Code</th><th>Teacher Name</th></tr>";
				var array;
				for(var i=0; i<idArray.length;i++){
					request = new XMLHttpRequest();
					request.open("GET", idArray[i], false);
					request.setRequestHeader("Authorization", "Basic " + btoa("admin:password123"));
					request.send();
					array = JSON.parse(request.responseText);
					temp+="<tr><td>"+array.url+"</td><td>" + array.code + "</td><td>" + array.name + "</td></tr>";
					
					
				}
				
				for(var i=0;i<array.length;i++){
					var url = array[i].url;
					var code = array[i].code;
					var name = array[i].name;
					temp+="<tr><td>"+url+"</td><td>" + code + "</td><td>" + name + "</td></tr>";
				}
				
				console.log(temp);
				temp+="</table>"+"<div class=button onClick=getCourses()><a>Get Courses</a></div>";
				document.getElementById("id1").innerHTML = temp;
			}*/
		</script>
	</body>

	
		
</html>